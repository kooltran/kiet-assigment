(this["webpackJsonpone-pack-assignment"]=this["webpackJsonpone-pack-assignment"]||[]).push([[0],{185:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),i=(n(96),n(3)),o=n(4),u=n(40),s=n.n(u),d=n(68),f=n(8),m=n(188),b=n(48),p=n(190),v=n(70),E=n.n(v),g=function(e){return E.a.get("".concat("https://images-api.nasa.gov","/search?q=").concat(e)).then((function(e){return e.data}))},h=n(9),O={searchResult:[],isLoading:!1},j=r.a.createContext({}),k=function(e){var t=e.children,n=Object(a.useReducer)(x,O),c=Object(f.a)(n,2),l=c[0],i=c[1];return r.a.createElement(j.Provider,{value:{data:l,setData:i}},t)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_BUTTON_ACTION":var n=t.payload,a=n.nasa_id,r=n.actionType;return console.log(e.searchResult,"initialState"),Object(h.a)({},e,{searchResult:e.searchResult.map((function(e){return e.nasa_id===a?Object(h.a)({},e,{action:r,isEdit:"edit"===r,isLike:"like"===r,isRemove:"remove"===r}):e}))});case"SET_SEARCH_DATA":return Object(h.a)({},e,{},t.payload);case"SET_LOADING":return Object(h.a)({},e,{isLoading:!0});case"SET_EDIT":var c=t.payload.nasa_id;return Object(h.a)({},e,{searchResult:e.searchResult.map((function(e){return e.nasa_id===c?Object(h.a)({},e,{},t.payload):e}))});default:return Object(h.a)({},e,{searchResult:t.payload})}},y=function(){var e=Object(a.useContext)(j),t=e.data,n=e.setData;return[t,Object(a.useCallback)((function(e,t){n({payload:e,type:t})}),[n])]};function _(){var e=Object(i.a)(["\n  display: flex;\n"]);return _=function(){return e},e}var w=o.a.div(_()),T=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=y(),i=Object(f.a)(l,2)[1],o=Object(a.useCallback)((function(e){return i(e,"SET_SEARCH_DATA")}),[i]),u=Object(a.useCallback)(Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({isLoading:!0}),e.next=3,g(n);case 3:t=e.sent,o({searchResult:t.collection.items.map((function(e){return e.data[0]})),isLoading:!1}),localStorage.setItem("searchResult",t.collection.items.map((function(e){return e.data[0]})));case 6:case"end":return e.stop()}}),e)}))),[n,o]);return r.a.createElement(w,null,r.a.createElement(m.a,{type:"text",onChange:function(e){c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&u()},"data-testid":"search-input"}),r.a.createElement(b.a,{size:"large",type:"primary",icon:r.a.createElement(p.a,null),onClick:u,disabled:!n,role:"search"}))},C=n(189),D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=Object(i.a)(["\n  display: flex;\n"]);return A=function(){return e},e}function R(){var e=Object(i.a)(["\n  margin-top: 15px;\n"]);return R=function(){return e},e}function S(){var e=Object(i.a)([""]);return S=function(){return e},e}function L(){var e=Object(i.a)(["\n  line-height: 1.5715;\n  position: relative;\n  display: inline-block;\n  font-weight: 400;\n  white-space: nowrap;\n  text-align: center;\n  background-image: none;\n  border: 1px solid transparent;\n  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.015);\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  height: 32px;\n  padding: 4px 15px;\n  font-size: 14px;\n  border-radius: 2px;\n  color: rgba(0, 0, 0, 0.65);\n  background-color: #fff;\n  border-color: #d9d9d9;\n\n  &:hover {\n    color: #fff;\n    background-color: #40a9ff;\n    border-color: #40a9ff;\n  }\n"]);return L=function(){return e},e}function z(){var e=Object(i.a)(["\n  color: #a6a832;\n"]);return z=function(){return e},e}function I(){var e=Object(i.a)(["\n  margin-bottom: 10px;\n  color: #40a9ff;\n"]);return I=function(){return e},e}function N(){var e=Object(i.a)(["\n  font-size: 14px;\n"]);return N=function(){return e},e}function J(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  border: 10px solid #333;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px;\n"]);return J=function(){return e},e}var M=o.a.div(J()),B=o.a.p(N()),H=o.a.h3(I()),K=o.a.p(z()),F=o.a.button(L()),P=o.a.div(S()),U=o.a.div(R()),q=o.a.div(A()),G=function(e){var t=e.item,n=void 0===t?{}:t,c=Object(a.useState)(!1),l=Object(f.a)(c,2),i=l[0],o=l[1],u=y(),s=Object(f.a)(u,2)[1],d=Object(a.useState)(n.title),b=Object(f.a)(d,2),p=b[0],v=b[1],E=Object(a.useCallback)((function(e){return s(e,"SET_BUTTON_ACTION")}),[s]),g=Object(a.useCallback)((function(e){return function(t){var n=t.target.value;E(Object(h.a)({},e,{actionType:n}))}}),[E]),O=function(){var e;e=Object(h.a)({},n,{title:p}),s(e,"SET_EDIT"),o(!i)},j=Object(a.useCallback)((function(){return o(!i)}),[]);return r.a.createElement(M,null,r.a.createElement(P,null,r.a.createElement(H,null,i?r.a.createElement(q,null,r.a.createElement(m.a,{value:p,onChange:function(e){var t=e.target.value;v(t)},onKeyDown:function(e){"Enter"===e.key&&O()}}),r.a.createElement(F,{type:"primary",icon:r.a.createElement(C.a,null),onClick:O},"save")):p),r.a.createElement(B,null,n.description),r.a.createElement(K,null,function(e){if(e){var t=new Date(e),n=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),r=("0"+t.getSeconds()).slice(-2),c=t.getDate(),l=t.getMonth(),i=D[l],o=t.getFullYear();return{time:"".concat(n,":").concat(a,":").concat(r),date:"".concat(c," ").concat(i," ").concat(o)}}}(n.date_created).date)),r.a.createElement(U,null,r.a.createElement(F,{onClick:g(n),value:"like"===n.action?"unlike":"like"},"like"===n.action?"unlike":"like"),r.a.createElement(F,{onClick:g(n),value:"remove"===n.action?"undo":"remove"},"remove"===n.action?"undo":"remove"),!i&&r.a.createElement(F,{onClick:j,value:"edit"},"edit")))},Y=n(186),Q=n(80),V=n.n(Q),W=n(81),X=n.n(W);function Z(){var e=Object(i.a)(["\n  img {\n    width: 50px;\n  }\n"]);return Z=function(){return e},e}function $(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return $=function(){return e},e}var ee=o.a.div($()),te=o.a.div(Z()),ne=function(){return r.a.createElement(te,null,r.a.createElement("img",{src:X.a,alt:"loading"}))},ae=function(){var e=y(),t=Object(f.a)(e,1)[0],n=t.searchResult,a=t.isLoading,c=Y.a.TabPane,l=n.filter((function(e){return"remove"!==e.action})),i=n.filter((function(e){return"like"===e.action})),o=n.filter((function(e){return"remove"===e.action}));return r.a.createElement(Y.a,{defaultActiveKey:"tab_all"},r.a.createElement(c,{tab:"All Data",key:"tab_all"},a?r.a.createElement(ne,null):r.a.createElement(ee,null,l.length?l.map((function(e){return r.a.createElement(V.a,{key:e.nasa_id,placeholder:r.a.createElement(ne,null)},r.a.createElement(G,{item:e}))})):r.a.createElement("h2",null,"Data not found"))),r.a.createElement(c,{tab:"Liked Data",key:"tab_liked"},r.a.createElement(ee,null,i.length?i.map((function(e){return r.a.createElement(G,{item:e,key:e.nasa_id})})):r.a.createElement("h2",null,"Data not found"))),r.a.createElement(c,{tab:"Removed Data",key:"tab_removed"},r.a.createElement(ee,null,o.length?o.map((function(e){return r.a.createElement(G,{item:e,key:e.nasa_id})})):r.a.createElement("h2",null,"Data not found"))))},re=n(89),ce=[{label:"a-z",value:"ascAlpha"},{label:"z-a",value:"decsAlpha"},{label:"oldest -> newest",value:"decsTime"},{label:"newest -> oldest",value:"ascTime"}],le={container:function(e){return Object(h.a)({},e,{width:200})}},ie=function(){var e=y(),t=Object(f.a)(e,2),n=t[0],a=t[1],c=n.searchResult;return r.a.createElement(re.a,{className:"sort",styles:le,options:ce,onChange:function(e){var t=[];switch(e.value){case"decsTime":t=c.sort((function(e,t){return new Date(e.date_created)-new Date(t.date_created)}));break;case"ascTime":t=c.sort((function(e,t){return new Date(t.date_created)-new Date(e.date_created)}));break;case"ascAlpha":t=c.sort((function(e,t){return e.title.localeCompare(t.title)}));break;case"decsAlpha":t=c.sort((function(e,t){return t.title.localeCompare(e.title)}));break;default:t=c}a(t)}})};function oe(){var e=Object(i.a)(["\n  text-align: center;\n  max-width: 1170px;\n  margin: 0 auto;\n"]);return oe=function(){return e},e}function ue(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n"]);return ue=function(){return e},e}var se=o.a.div(ue()),de=o.a.div(oe());var fe=function(){return r.a.createElement(de,null,r.a.createElement(se,null,r.a.createElement(T,null),r.a.createElement(ie,null)),r.a.createElement(ae,null))};n(184);l.a.render(r.a.createElement(k,null,r.a.createElement(fe,null)),document.getElementById("root"))},81:function(e,t,n){e.exports=n.p+"static/media/icon_loading.e2341824.svg"},91:function(e,t,n){e.exports=n(185)},96:function(e,t,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.b9a7d71b.chunk.js.map